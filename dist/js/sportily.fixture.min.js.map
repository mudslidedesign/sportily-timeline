{"version":3,"file":"sportily.fixture.min.js","sources":["sportily.fixture.js","sportily.fixture.templates.js"],"names":["module","angular","directive","FixtureService","restrict","scope","link","element","attrs","ctrl","sportilyFixture","get","then","data","fixture","require","templateUrl","call","this","config","RestangularProvider","generateLookup","setBaseUrl","setDefaultHeaders","Authorization","window","localStorage","getItem","setErrorInterceptor","response","console","error","addResponseInterceptor","operation","result","lookup","items","i","item","len","length","id","filter","input","given_name","family_name","String","prototype","ucfirst","charAt","toUpperCase","slice","padLeft","ch","duration","hours","minutes","seconds","str","moment","reverse","Fixture","bind","fn","me","apply","arguments","q","interval","details1","events1","participants1","event","ref","details","events","participants","_updateGameState","_updateGameTime","_refreshDetails","_pushEvent","_linkEvent","happenedAt","time","split","state","startedAt","clone","add","pausedFor","addEvent","promise","_createEvent","deleteEvent","_deleteEvent","start","happened_at","type","finish","pause","resume","addGoal","entryId","ownGoal","participantId","notes","entry_id","participant_id","addAssist","parentId","parent_id","addFoul","penaltySeconds","penalty_seconds","getParticipants","_","_this","p","toggleParticipant","member","participant","role","_findParticipant","_removeParticipant","_addParticipant","addParticipant","when","removeParticipant","fixture_id","role_id","post","push","remove","find","format","parent","children","_startTimer","timer","_stopTimer","cancel","res","refreshParticipants","now","ref1","pausedAt","gameTime","diff","Math","max","game_time","inProgress","started","finished","paused","forEach","restangular","promises","_details","_events","_participants","all","one","getList","service","run","$templateCache","put"],"mappings":"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"}